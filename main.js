(()=>{var e={225:e=>{const t=function(e,t){let o=t.map((e=>({position:e,isHit:!1})));return{getLength:()=>e,hit:e=>{o.find((t=>t.position===e)).isHit=!0},isSunk:()=>o.reduce(((e,t)=>t.isHit&&e),!0)}},o=()=>{let e=[],o=[];return{missedAttacks:o,receiveAttack:t=>{let n=e.find((e=>e.pts.find((e=>e===t))));return n?(n.ship.hit(t),"success"):(o.push(t),"miss")},placeShip:(o,n)=>{let r={};r.ship=t(o,n),r.pts=n,e.push(r)},hasLost:()=>e.reduce(((e,t)=>e&&t.ship.isSunk()),!0)}};e.exports={Ship:t,Player:e=>{const t=o();let n=[];return{getName:()=>e,attack:(e,t)=>{if(!n.includes(t))return n.push(t),e.board.receiveAttack(t)},board:t}},GameBoard:o}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(225);const t=l();document.querySelector("header").appendChild(s(t));const n=(0,e.Player)("Yahia");function r(e,o,n){let r,c;do{r=t[Math.floor(100*Math.random())],c=e.attack(o,r)}while(!c);return"success"===c?(console.log(r,"sucess"),n.querySelector(`#${r}`).className="damaged",d(e.getName(),o.getName()),!0):(n.querySelector(`#${r}`).className="not-damaged",!1)}function c(e,t,o){e.board.placeShip(t.length,t);let n=[];return t.forEach((e=>{n=[...n,...i(e)]})),o.filter((e=>!n.includes(e)))}function a(e,t,o,n){let r=[];for(let n=0;n<o;n++){if("Horizontal"===t){const t=String.fromCharCode(e[0].charCodeAt()+n),o=e.slice(1);r[n]=t+o}if("Vertical"===t){const t=e[0],o=Number(e.slice(1))+n;r[n]=t+o}}return r.reduce(((e,t)=>e&&n.includes(t)),!0)?r:[]}function l(){const e=[],t=["A","B","C","D","E","F","G","H","I","J"];for(let o=1;o<=10;o++)for(let n of t)e.push(n+o);return e}function s(e){const t=document.createElement("div");return e.forEach((e=>{const o=document.createElement("button");o.className="cell",o.id=e,o.style.opacity=1,t.appendChild(o)})),t}function i(e){let t=[],o=e[0],n=String.fromCharCode(o.charCodeAt()-1),r=String.fromCharCode(o.charCodeAt()+1),c=Number(e.slice(1)),a=[n+(c-1),n+c,n+(c+1)],l=[`${o}${c-1}`,e,`${o}${c+1}`],s=[r+(c-1),r+c,r+(c+1)];return t.push(...a,...l,...s),t}function d(e,t){16!==[...document.querySelector(`.${t}-section`).querySelectorAll(".damaged")].reduce(((e,t)=>"damaged"===t.className?1+e:e),0)||(document.querySelector("main").textContent="",document.querySelector("footer").textContent=e+" Wins")}!function(t,o){let i=o;const u=document.createElement("button");u.id="orientation",u.textContent="Horizontal",u.classList="Horizontal",document.querySelector("header").appendChild(u),u.addEventListener("click",(e=>{e.target.classList.toggle("Horizontal"),e.target.classList.toggle("Vertical"),e.target.textContent=e.target.className}));const m=[2,2,3,4,5];let h=[];document.querySelectorAll(".cell").forEach((o=>{o.addEventListener("mouseover",(e=>{h=function(e,t,o,n){let r=[];return r=a(e.target.id,t,o,n),r.forEach((e=>{document.getElementById(e).classList.toggle("hovered")})),r}(e,u.textContent,m[m.length-1],i)})),o.addEventListener("mouseout",(()=>{document.querySelectorAll(".cell").forEach((e=>e.classList.remove("hovered")))})),o.addEventListener("click",(()=>{h[0]&&(i=c(t,h,i),h.forEach((e=>{document.getElementById(e).classList.add("placed")})),h=[],m.pop()),0===m.length&&function(){document.querySelector("header").textContent="";const t=(0,e.Player)("AI");!function(e){let t=l();const o=[5,4,3,2,2];for(let n of o){let o=!0;for(;o;){const r=a(t[Math.floor(Math.random()*t.length)],["Horizontal","Vertical"][Math.floor(2*Math.random())],n,t);r.length&&(t=c(e,r,t),o=!1,console.log(r))}}}(t);const o=document.querySelector("main"),i=document.createElement("section");i.className=n.getName()+"-section";const u=s(l());i.appendChild(u);const m=document.createElement("section");m.className=t.getName()+"-section";const h=s(l());function p(e){const o=e.target;let c=!0;if("miss"===t.board.receiveAttack(o.id))for(h.querySelector(`#${o.id}`).className="not-damaged";c;)c=r(t,n,u);else h.querySelector(`#${e.target.id}`).className="damaged",d(n.getName(),t.getName());o.removeEventListener("click",p)}m.appendChild(h),h.querySelectorAll(".cell").forEach((e=>e.addEventListener("click",p)));const f=document.createElement("p");f.textContent=n.getName(),i.appendChild(f);const g=document.createElement("p");g.textContent=t.getName(),m.appendChild(g),o.appendChild(i),o.appendChild(m)}()}))}))}(n,t)})()})();